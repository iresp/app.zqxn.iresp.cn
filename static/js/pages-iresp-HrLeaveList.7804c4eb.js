(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-iresp-HrLeaveList"],{"0c25":function(t,e,a){"use strict";a.r(e);var i=a("c087"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"226b":function(t,e,a){"use strict";var i=a("2e02"),n=a.n(i);n.a},"2e02":function(t,e,a){var i=a("a52a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("3994ca48",i,!0,{sourceMap:!1,shadowMode:!1})},"48c5":function(t,e,a){"use strict";a.r(e);var i=a("844dd"),n=a("0c25");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("226b");var s=a("828b"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"2144ba7b",null,!1,i["a"],void 0);e["default"]=c.exports},"844dd":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={mescrollUni:a("62ac").default,uniPopup:a("3977").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("cu-custom",{attrs:{bgColor:t.NavBarColor,isBack:!0}},[a("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),a("template",{attrs:{slot:"content"},slot:"content"},[t._v("请假")]),a("template",{attrs:{slot:"right"},slot:"right"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage("HrLeaveForm")}}},[t._v("新增")])],1)],2),a("mescroll-uni",{ref:"mescrollRef",attrs:{top:t.top,up:t.upOption,down:t.downOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-list cu-list"},t._l(t.list,(function(e,i){return a("v-uni-view",{key:i,staticClass:"message_text bg-white cu-item flex justify-around align-center solid-bottom margin-bottom-sm margin-top-sm",class:t.modalName=="move-box-"+i?"move-cur":"",staticStyle:{width:"100vw"},attrs:{"data-target":"move-box-"+i},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchEnd.apply(void 0,arguments)},click:function(a){arguments[0]=a=t.$handleEvent(a),t.goFormPage(e.id)}}},[a("v-uni-view",{staticClass:"padding-left"},[a("v-uni-view",{staticClass:"cu-avatar radius cuIcon-timesheet bg-orange"})],1),a("v-uni-view",{staticClass:"titlePad content",staticStyle:{height:"4em"}},[a("v-uni-view",{staticClass:"flex justify-start text-cut text-lg",staticStyle:{width:"26em",color:"#333","font-family":"'黑体'"}},[a("v-uni-view",{staticClass:"padding-left"},[a("v-uni-text",{staticClass:"text-black"},[t._v(t._s(e.name_dictText+" "+e.leaveType_dictText))])],1)],1),a("v-uni-view",{staticClass:"flex justify-between margin-top-xs",staticStyle:{"font-family":"'黑体'",color:"#999"}},[a("v-uni-view",{staticStyle:{"padding-left":".8rem"}},[a("v-uni-view",{staticClass:"text-content text-cut",staticStyle:{width:"18em"}},[t._v(t._s(e.bpmStatus_dictText))])],1)],1)],1),a("v-uni-view",{staticClass:"action text-sm",staticStyle:{color:"#aaa","margin-top":"0","margin-left":"-13em",width:"10em"}},[a("v-uni-view",[a("v-uni-text",[t._v(t._s(e.resource_dictText))])],1),a("v-uni-view",[a("v-uni-text",[t._v(t._s(e.days)+"天")])],1)],1),a("v-uni-view",{staticClass:"move"},[e.fwId?a("v-uni-view",{staticStyle:{"margin-right":"0","margin-left":"2px"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.showBpmnDiagram(e)}}},[t._v("审批进度")]):t._e(),"0"===e.bpmStatus||"1"===e.bpmStatus||"4"===e.bpmStatus?a("v-uni-view",{staticStyle:{"margin-right":"0","margin-left":"2px"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.submitApproval(e)}}},[t._v("提交审批")]):t._e()],1)],1)})),1)],1),a("v-uni-view",[a("uni-popup",{ref:"bpmnDiagram",attrs:{"background-color":"#fff"}},[a("v-uni-view",{staticClass:"popup-content",staticStyle:{"background-color":"#fff",padding:"5px"}},[a("v-uni-image",{attrs:{src:t.bpmnDiagramImage,mode:"aspectFit"}})],1)],1)],1)],1)},o=[]},a52a:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'.popup-content[data-v-2144ba7b]{align-items:center;justify-content:center;width:"100%";padding:"15px";height:"100%";background-color:#fff}',""]),t.exports=e},c087:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223"),a("aa9c");var n=i(a("7d11")),o=i(a("f08c")),s=i(a("de06")),c={name:"请假",mixins:[n.default,o.default],data:function(){return{CustomBar:this.CustomBar,NavBarColor:this.NavBarColor,url:"/iresp/hrLeave/list",modalName:null,listTouchDirection:null,bpmnDiagramImage:""}},onShow:function(){this.mescroll&&this.mescroll.resetUpScroll()},computed:{top:function(){return 2*this.CustomBar},style:function(){var t=this.StatusBar,e=this.CustomBar,a="height:".concat(e,"px;padding-top:").concat(t,"px;");return a}},methods:{ListTouchStart:function(t){this.listTouchStart=t.touches[0].pageX},ListTouchMove:function(t){this.listTouchDirection=t.touches[0].pageX-this.listTouchStart>0?"right":"left"},ListTouchEnd:function(t){"left"==this.listTouchDirection?this.modalName=t.currentTarget.dataset.target:this.modalName=null,this.listTouchDirection=null},showBpmnDiagram:function(t){var e=Math.floor(1e12*Math.random())+1;this.bpmnDiagramImage="".concat(s.default.apiUrl,"/sys/bpmn/process/").concat(t.fwId,"/diagram?t=").concat(e),this.$refs["bpmnDiagram"].open()},submitApproval:function(t){var e=this;this.$http.post("/iresp/hrLeave/".concat(t.id,"/approval")).then((function(t){t.data.success?e.mescroll&&e.mescroll.resetUpScroll():alert(t.data.message)}))},goFormPage:function(t){this.mescroll.resetUpScroll(),uni.navigateTo({url:"/pages/iresp/HrLeaveForm?id="+t})},goHome:function(){this.$Router.push({name:"index"})},goPage:function(t){if(!t)return!1;this.$Router.push({name:t})}}};e.default=c}}]);