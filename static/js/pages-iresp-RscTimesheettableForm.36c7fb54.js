(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-iresp-RscTimesheettableForm"],{"04e8":function(t,e,i){var s,n,r,a=i("bdbb").default;i("4085"),function(u,o){"object"==a(e)&&"undefined"!=typeof t?t.exports=o(i("2c58")):(n=[i("2c58")],s=o,r="function"===typeof s?s.apply(e,n):s,void 0===r||(t.exports=r))}(0,(function(t){"use strict";var e=function(t){return t&&"object"==a(t)&&"default"in t?t:{default:t}}(t),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(t,e){return"W"===e?t+"周":t+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(t,e){var i=100*t+e;return i<600?"凌晨":i<900?"早上":i<1100?"上午":i<1300?"中午":i<1800?"下午":"晚上"}};return e.default.locale(i,null,!0),i}))},"0c09":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return s}));var s={uniTag:i("dd7e").default,mescrollUni:i("62ac").default,uniSection:i("a115").default,uniDrawer:i("61cd").default,uniRate:i("f634").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:t.NavBarColor,isBack:!0,backRouterName:t.backRouteName}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("工时单")]),i("template",{attrs:{slot:"right"},slot:"right"},["Draft"===this.formatStatusEn(this.model.status)||"Rejected"===this.formatStatusEn(this.model.status)?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSubmit.apply(void 0,arguments)}}},[t._v("保存")]):t._e()],1)],2),i("v-uni-view",{attrs:{top:t.top}},[i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("工时单号：")])],1),i("v-uni-input",{attrs:{placeholder:"请输入工时单编号",disabled:"true"},model:{value:t.model.timesheetNbr,callback:function(e){t.$set(t.model,"timesheetNbr",e)},expression:"model.timesheetNbr"}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("工时用户：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.userIndex,range:t.userList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.userPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.userList[t.userIndex]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("期间代码：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.periodCodeIndex,range:t.periodCodeList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.periodCodePickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.periodCodeList[t.periodCodeIndex]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("审批状态：")])],1),i("uni-tag",{attrs:{text:this.formatStatusZh(t.model.status),type:"草稿"==this.formatStatusZh(t.model.status)?"primary":"已驳回"==this.formatStatusZh(t.model.status)?"error":"已批准"==this.formatStatusZh(t.model.status)?"success":"default"}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("工时总计：")])],1),i("v-uni-input",{attrs:{placeholder:"请输添加工时单行",disabled:"true"},model:{value:t.model.totalhours,callback:function(e){t.$set(t.model,"totalhours",e)},expression:"model.totalhours"}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-title text-orange"},[t._v("工时单行")])],1),i("v-uni-view",{staticClass:"action"},["Draft"===this.formatStatusEn(this.model.status)||"Rejected"===this.formatStatusEn(this.model.status)?i("v-uni-button",{staticClass:"cu-btn bg-green shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.newRscTimesheetLines.apply(void 0,arguments)}}},[t._v("新增")]):t._e()],1)],1),i("v-uni-view",[i("mescroll-uni",{ref:"mescrollRef",attrs:{top:"800",up:t.upOption,down:t.downOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"al-list cu-list bg-white"},t._l(t.RscTimesheetLines,(function(e,s){return i("v-uni-view",{key:s,staticClass:"cu-item flex justify-around align-center solid-bottom margin-bottom-sm margin-top-sm",class:t.modalName=="move-box-"+s?"move-cur":"",staticStyle:{width:"100vw"},attrs:{"data-target":"move-box-"+s},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchEnd.apply(void 0,arguments)},click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickRscTimesheetLines(e)}}},[i("v-uni-view",{staticClass:"titlePad content",staticStyle:{height:"4em"}},[i("v-uni-view",{staticClass:"flex justify-start text-cut text-lg",staticStyle:{width:"26em",color:"#333","font-family":"'黑体'"}},[i("v-uni-view",{staticClass:"padding-left"},[i("v-uni-text",{staticClass:"text-black"},[t._v(t._s(e.projectId))])],1)],1),i("v-uni-view",{staticClass:"flex justify-between margin-top-xs",staticStyle:{"font-family":"'黑体'",color:"#999"}},[i("v-uni-view",{staticStyle:{"padding-left":".8rem"}},[i("v-uni-view",{staticClass:"text-content text-cut",staticStyle:{"min-width":"5em"}},[t._v(t._s(e.taskId_dictText))])],1),i("v-uni-view",[i("v-uni-view",{staticClass:"text-content text-cut",staticStyle:{"min-width":"5em"}},[t._v(t._s(e.hourpropertyId_dictText))])],1),i("v-uni-view",[i("v-uni-view",{staticClass:"text-content text-cut",staticStyle:{"min-width":"1em"}})],1)],1)],1),i("v-uni-view",{staticClass:"action text-sm",staticStyle:{color:"#aaa","margin-top":"-2em","margin-left":"-13em",width:"10em"}},[i("v-uni-text",[t._v(t._s(e.hourSum)+"小时")])],1),i("v-uni-view",{staticClass:"move"},[i("v-uni-view",{staticClass:"bg-red",staticStyle:{"margin-right":"0","margin-left":"2px"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.deleteRscTimesheetLine(e)}}},[t._v("删除")])],1)],1)})),1)],1)],1),i("v-uni-view",[i("uni-section",[i("v-uni-view",{staticClass:"example-body"},[i("uni-drawer",{ref:"showRight",attrs:{mode:"right","mask-click":!1,width:t.drawerWidth}},[i("v-uni-view",{staticClass:"scroll-view",staticStyle:{"padding-top":"100px"}},[i("v-uni-scroll-view",{staticClass:"scroll-view-box",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"info-content"},[i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("项目：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.projectIndex,range:t.projectList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.projectPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.projectList[t.projectIndex]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("任务：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.taskIndex,range:t.taskList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.taskPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.taskList[t.taskIndex]?t.taskList[t.taskIndex].split("|")[0]:""))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("属性：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.hourpropertyIndex,range:t.hourpropertyList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.hourpropertyPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.hourpropertyList[t.hourpropertyIndex]?t.hourpropertyList[t.hourpropertyIndex].split("|")[0]:""))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("工时：")])],1),i("a",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickRscTimesheetLineDetail(t.taskList[t.taskIndex].split("|")[1])}}},[t._v("点此处填报详情")])],1)],1),i("v-uni-view",{staticClass:"grid margin-bottom text-center col-5"},t._l(t.rscTimesheetlineDetail,(function(e,s){return i("v-uni-view",{staticClass:"bg-cyan solid-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickRscTimesheetLineDetail(t.taskList[t.taskIndex].split("|")[1])}}},[i("v-uni-view",[t._v(t._s(t.format(e.dayNum)))]),i("v-uni-view",[t._v(t._s(e.hours))])],1)})),1)],1)],1),i("v-uni-view",{staticClass:"close flex solid-bottom padding justify-center"},[i("v-uni-button",{staticClass:"flex-sub padding-sm margin-xs radius cu-btn shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeRscTimesheetLines.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"word-btn-white"},[t._v("取消")])],1),"Draft"===this.formatStatusEn(this.model.status)||"Rejected"===this.formatStatusEn(this.model.status)?i("v-uni-button",{staticClass:"flex-sub padding-sm margin-xs radius cu-btn bg-blue shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveRscTimesheetLines.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"word-btn-white"},[t._v("保存")])],1):t._e()],1)],1)],1),i("v-uni-view",[i("uni-section",[i("v-uni-view",{staticClass:"example-body"},[i("uni-drawer",{ref:"showRight2",attrs:{mode:"right","mask-click":!1,width:t.drawerWidth}},[i("v-uni-view",{staticClass:"scroll-view",staticStyle:{"padding-top":"100px"}},[i("v-uni-scroll-view",{staticClass:"scroll-view-box",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"info-content"},[i("v-uni-form",t._l(t.rscTimesheetlineDetail,(function(e,s){return i("v-uni-view",{staticClass:"solid-bottom"},[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"flex-sub title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v(t._s(t.format(e.dayNum))+"：")])],1),i("v-uni-view",{staticClass:"flex-twice"},[i("v-uni-input",{attrs:{placeholder:"请输入工时"},model:{value:e.hours,callback:function(i){t.$set(e,"hours",i)},expression:"item.hours"}})],1),i("v-uni-view",{staticClass:"flex-treble"},[i("v-uni-input",{attrs:{placeholder:"请输入备注"},model:{value:e.description,callback:function(i){t.$set(e,"description",i)},expression:"item.description"}})],1)],1)],1),i("v-uni-view",{staticStyle:{"padding-left":"15px"}},[i("uni-rate",{attrs:{"allow-half":!0,max:10,margin:t.rateMargin},model:{value:e.hours,callback:function(i){t.$set(e,"hours",i)},expression:"item.hours"}})],1)],1)})),1)],1),i("v-uni-view",{staticClass:"close flex solid-bottom padding justify-center"},[i("v-uni-button",{staticClass:"flex-sub padding-sm margin-xs radius cu-btn shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeRscTimesheetLineDetail.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"word-btn-white"},[t._v("取消")])],1),"Draft"===this.formatStatusEn(this.model.status)||"Rejected"===this.formatStatusEn(this.model.status)?i("v-uni-button",{staticClass:"flex-sub padding-sm margin-xs radius cu-btn bg-blue shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveRscTimesheetLineDetail.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"word-btn-white"},[t._v("保存")])],1):t._e()],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},r=[]},"0fb1":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"UniTag",emits:["click"],props:{type:{type:String,default:"default"},size:{type:String,default:"normal"},text:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},inverted:{type:[Boolean,String],default:!1},circle:{type:[Boolean,String],default:!1},mark:{type:[Boolean,String],default:!1},customStyle:{type:String,default:""}},computed:{classes:function(){var t=this.type,e=this.disabled,i=this.inverted,s=this.circle,n=this.mark,r=this.size,a=this.isTrue,u=["uni-tag--"+t,"uni-tag--"+r,a(e)?"uni-tag--disabled":"",a(i)?"uni-tag--"+t+"--inverted":"",a(s)?"uni-tag--circle":"",a(n)?"uni-tag--mark":"",a(i)?"uni-tag--inverted uni-tag-text--"+t:"","small"===r?"uni-tag-text--small":""];return u.join(" ")}},methods:{isTrue:function(t){return!0===t||"true"===t},onClick:function(){this.isTrue(this.disabled)||this.$emit("click")}}};e.default=s},"1d62":function(t,e,i){var s=i("c86c");e=s(!1),e.push([t.i,'.popup-content[data-v-58da72e0]{align-items:center;justify-content:center;width:"100%";padding:"15px";height:"100%";background-color:#fff}',""]),t.exports=e},"1f9b":function(t,e,i){"use strict";i.r(e);var s=i("0fb1"),n=i.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=n.a},2178:function(t,e,i){var s=i("1d62");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("967d").default;n("321ce80e",s,!0,{sourceMap:!1,shadowMode:!1})},"221f":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return s}));var s={uniIcons:i("de3a").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{ref:"uni-rate",staticClass:"uni-rate"},t._l(t.stars,(function(e,s){return i("v-uni-view",{key:s,staticClass:"uni-rate__icon",class:{"uni-cursor-not-allowed":t.disabled},style:{"margin-right":t.marginNumber+"px"},on:{touchstart:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.touchstart.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.touchmove.apply(void 0,arguments)},mousedown:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.mousedown.apply(void 0,arguments)},mousemove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.mousemove.apply(void 0,arguments)},mouseleave:function(e){arguments[0]=e=t.$handleEvent(e),t.mouseleave.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{color:t.color,size:t.size,type:t.isFill?"star-filled":"star"}}),i("v-uni-view",{staticClass:"uni-rate__icon-on",style:{width:e.activeWitch}},[i("uni-icons",{attrs:{color:t.disabled?t.disabledColor:t.activeColor,size:t.size,type:"star-filled"}})],1)],1)})),1)],1)},r=[]},2984:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa"),i("aa9c"),i("5ef2"),i("7a76"),i("c9b5"),i("e966"),i("5c47");var s={name:"UniRate",props:{isFill:{type:[Boolean,String],default:!0},color:{type:String,default:"#ececec"},activeColor:{type:String,default:"#ffca3e"},disabledColor:{type:String,default:"#c0c0c0"},size:{type:[Number,String],default:24},value:{type:[Number,String],default:0},modelValue:{type:[Number,String],default:0},max:{type:[Number,String],default:5},margin:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},readonly:{type:[Boolean,String],default:!1},allowHalf:{type:[Boolean,String],default:!1},touchable:{type:[Boolean,String],default:!0}},data:function(){return{valueSync:"",userMouseFristMove:!0,userRated:!1,userLastRate:1}},watch:{value:function(t){this.valueSync=Number(t)},modelValue:function(t){this.valueSync=Number(t)}},computed:{stars:function(){for(var t=this.valueSync?this.valueSync:0,e=[],i=Math.floor(t),s=Math.ceil(t),n=0;n<this.max;n++)i>n?e.push({activeWitch:"100%"}):s-1===n?e.push({activeWitch:100*(t-i)+"%"}):e.push({activeWitch:"0"});return e},marginNumber:function(){return Number(this.margin)}},created:function(){this.valueSync=Number(this.value||this.modelValue),this._rateBoxLeft=0,this._oldValue=null},mounted:function(){var t=this;setTimeout((function(){t._getSize()}),100),this.PC=this.IsPC()},methods:{touchstart:function(t){if(!this.IsPC()&&!this.readonly&&!this.disabled){var e=t.changedTouches[0],i=e.clientX,s=e.screenX;this._getRateCount(i||s)}},touchmove:function(t){if(!this.IsPC()&&!this.readonly&&!this.disabled&&this.touchable){var e=t.changedTouches[0],i=e.clientX,s=e.screenX;this._getRateCount(i||s)}},mousedown:function(t){if(this.IsPC()&&!this.readonly&&!this.disabled){var e=t.clientX;this.userLastRate=this.valueSync,this._getRateCount(e),this.userRated=!0}},mousemove:function(t){if(this.IsPC()&&!this.userRated&&(this.userMouseFristMove&&(console.log("---mousemove----",this.valueSync),this.userLastRate=this.valueSync,this.userMouseFristMove=!1),!this.readonly&&!this.disabled&&this.touchable)){var e=t.clientX;this._getRateCount(e)}},mouseleave:function(t){this.IsPC()&&(this.readonly||this.disabled||!this.touchable||(this.userRated?this.userRated=!1:this.valueSync=this.userLastRate))},IsPC:function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],i=!0,s=0;s<e.length-1;s++)if(t.indexOf(e[s])>0){i=!1;break}return i},_getRateCount:function(t){this._getSize();var e=Number(this.size);if(isNaN(e))return new Error("size 属性只能设置为数字");var i=t-this._rateBoxLeft,s=parseInt(i/(e+this.marginNumber));s=s<0?0:s,s=s>this.max?this.max:s;var n=parseInt(i-(e+this.marginNumber)*s),r=0;(this._oldValue!==s||this.PC)&&(this._oldValue=s,r=this.allowHalf?n>e/2?s+1:s+.5:s+1,r=Math.max(.5,Math.min(r,this.max)),this.valueSync=r,this._onChange())},_onChange:function(){this.$emit("input",this.valueSync),this.$emit("update:modelValue",this.valueSync),this.$emit("change",{value:this.valueSync})},_getSize:function(){var t=this;uni.createSelectorQuery().in(this).select(".uni-rate").boundingClientRect().exec((function(e){e&&(t._rateBoxLeft=e[0].left)}))}}};e.default=s},"2c58":function(t,e,i){var s,n,r=i("bdbb").default;i("4085"),i("5c47"),i("a1c1"),i("0506"),i("2c10"),i("c9b5"),i("bf0f"),i("ab80"),i("f7a5"),i("64aa"),i("9370"),i("6730"),function(a,u){"object"==r(e)&&"undefined"!=typeof t?t.exports=u():(s=u,n="function"===typeof s?s.call(e,i,e,t):s,void 0===n||(t.exports=n))}(0,(function(){"use strict";var t=6e4,e=36e5,i="millisecond",s="second",n="minute",a="hour",u="day",o="week",c="month",l="quarter",d="year",h="date",f="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],i=t%100;return"["+t+(e[(i-20)%10]||e[i]||e[0])+"]"}},g=function(t,e,i){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(i)+t},y={s:g,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),s=Math.floor(i/60),n=i%60;return(e<=0?"+":"-")+g(s,2,"0")+":"+g(n,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var s=12*(i.year()-e.year())+(i.month()-e.month()),n=e.clone().add(s,c),r=i-n<0,a=e.clone().add(s+(r?-1:1),c);return+(-(s+(i-n)/(r?n-a:a-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:o,d:u,D:h,h:a,m:n,s:s,ms:i,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",x={};x[b]=m;var w="$isDayjsObject",_=function(t){return t instanceof C||!(!t||!t[w])},L=function t(e,i,s){var n;if(!e)return b;if("string"==typeof e){var r=e.toLowerCase();x[r]&&(n=r),i&&(x[r]=i,n=r);var a=e.split("-");if(!n&&a.length>1)return t(a[0])}else{var u=e.name;x[u]=e,n=u}return!s&&n&&(b=n),n||!s&&b},k=function(t,e){if(_(t))return t.clone();var i="object"==r(e)?e:{};return i.date=t,i.args=arguments,new C(i)},T=y;T.l=L,T.i=_,T.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var C=function(){function r(t){this.$L=L(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[w]=!0}var m=r.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(v);if(s){var n=s[2]-1||0,r=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return T},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var i=k(t);return this.startOf(e)<=i&&i<=this.endOf(e)},m.isAfter=function(t,e){return k(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<k(t)},m.$g=function(t,e,i){return T.u(t)?this[e]:this.set(i,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var i=this,r=!!T.u(e)||e,l=T.p(t),f=function(t,e){var s=T.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i);return r?s:s.endOf(u)},v=function(t,e){return T.w(i.toDate()[t].apply(i.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),i)},p=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return r?f(1,0):f(31,11);case c:return r?f(1,m):f(0,m+1);case o:var b=this.$locale().weekStart||0,x=(p<b?p+7:p)-b;return f(r?g-x:g+(6-x),m);case u:case h:return v(y+"Hours",0);case a:return v(y+"Minutes",1);case n:return v(y+"Seconds",2);case s:return v(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,o=T.p(t),l="set"+(this.$u?"UTC":""),f=(r={},r[u]=l+"Date",r[h]=l+"Date",r[c]=l+"Month",r[d]=l+"FullYear",r[a]=l+"Hours",r[n]=l+"Minutes",r[s]=l+"Seconds",r[i]=l+"Milliseconds",r)[o],v=o===u?this.$D+(e-this.$W):e;if(o===c||o===d){var p=this.clone().set(h,1);p.$d[f](v),p.init(),this.$d=p.set(h,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](v);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[T.p(t)]()},m.add=function(i,r){var l,h=this;i=Number(i);var f=T.p(r),v=function(t){var e=k(h);return T.w(e.date(e.date()+Math.round(t*i)),h)};if(f===c)return this.set(c,this.$M+i);if(f===d)return this.set(d,this.$y+i);if(f===u)return v(1);if(f===o)return v(7);var p=(l={},l[n]=t,l[a]=e,l[s]=1e3,l)[f]||1,m=this.$d.getTime()+i*p;return T.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,i=this.$locale();if(!this.isValid())return i.invalidDate||f;var s=t||"YYYY-MM-DDTHH:mm:ssZ",n=T.z(this),r=this.$H,a=this.$m,u=this.$M,o=i.weekdays,c=i.months,l=i.meridiem,d=function(t,i,n,r){return t&&(t[i]||t(e,s))||n[i].slice(0,r)},h=function(t){return T.s(r%12||12,t,"0")},v=l||function(t,e,i){var s=t<12?"AM":"PM";return i?s.toLowerCase():s};return s.replace(p,(function(t,s){return s||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return T.s(e.$y,4,"0");case"M":return u+1;case"MM":return T.s(u+1,2,"0");case"MMM":return d(i.monthsShort,u,c,3);case"MMMM":return d(c,u);case"D":return e.$D;case"DD":return T.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(i.weekdaysMin,e.$W,o,2);case"ddd":return d(i.weekdaysShort,e.$W,o,3);case"dddd":return o[e.$W];case"H":return String(r);case"HH":return T.s(r,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return v(r,a,!0);case"A":return v(r,a,!1);case"m":return String(a);case"mm":return T.s(a,2,"0");case"s":return String(e.$s);case"ss":return T.s(e.$s,2,"0");case"SSS":return T.s(e.$ms,3,"0");case"Z":return n}return null}(t)||n.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(i,r,h){var f,v=this,p=T.p(r),m=k(i),g=(m.utcOffset()-this.utcOffset())*t,y=this-m,b=function(){return T.m(v,m)};switch(p){case d:f=b()/12;break;case c:f=b();break;case l:f=b()/3;break;case o:f=(y-g)/6048e5;break;case u:f=(y-g)/864e5;break;case a:f=y/e;break;case n:f=y/t;break;case s:f=y/1e3;break;default:f=y}return h?f:T.a(f)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return x[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),s=L(t,e,!0);return s&&(i.$L=s),i},m.clone=function(){return T.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},r}(),$=C.prototype;return k.prototype=$,[["$ms",i],["$s",s],["$m",n],["$H",a],["$W",u],["$M",c],["$y",d],["$D",h]].forEach((function(t){$[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,C,k),t.$i=!0),k},k.locale=L,k.isDayjs=_,k.unix=function(t){return k(1e3*t)},k.en=x[b],k.Ls=x,k.p={},k}))},"37d4":function(t,e,i){"use strict";var s=i("985e"),n=i.n(s);n.a},"432d":function(t,e,i){var s=i("c86c");e=s(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-tag[data-v-780f578d]{line-height:14px;font-size:12px;font-weight:200;padding:4px 7px;color:#fff;border-radius:3px;background-color:#8f939c;border-width:1px;border-style:solid;border-color:#8f939c;cursor:pointer}.uni-tag--default[data-v-780f578d]{font-size:12px}.uni-tag--default--inverted[data-v-780f578d]{color:#8f939c;border-color:#8f939c}.uni-tag--small[data-v-780f578d]{padding:2px 5px;font-size:12px;border-radius:2px}.uni-tag--mini[data-v-780f578d]{padding:1px 3px;font-size:12px;border-radius:2px}.uni-tag--primary[data-v-780f578d]{background-color:#2979ff;border-color:#2979ff;color:#fff}.uni-tag--success[data-v-780f578d]{color:#fff;background-color:#18bc37;border-color:#18bc37}.uni-tag--warning[data-v-780f578d]{color:#fff;background-color:#f3a73f;border-color:#f3a73f}.uni-tag--error[data-v-780f578d]{color:#fff;background-color:#e43d33;border-color:#e43d33}.uni-tag--primary--inverted[data-v-780f578d]{color:#2979ff;border-color:#2979ff}.uni-tag--success--inverted[data-v-780f578d]{color:#18bc37;border-color:#18bc37}.uni-tag--warning--inverted[data-v-780f578d]{color:#f3a73f;border-color:#f3a73f}.uni-tag--error--inverted[data-v-780f578d]{color:#e43d33;border-color:#e43d33}.uni-tag--inverted[data-v-780f578d]{background-color:#fff}.uni-tag--circle[data-v-780f578d]{border-radius:15px}.uni-tag--mark[data-v-780f578d]{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:15px;border-bottom-right-radius:15px}.uni-tag--disabled[data-v-780f578d]{opacity:.5;cursor:not-allowed}.uni-tag-text[data-v-780f578d]{color:#fff;font-size:14px}.uni-tag-text--primary[data-v-780f578d]{color:#2979ff}.uni-tag-text--success[data-v-780f578d]{color:#18bc37}.uni-tag-text--warning[data-v-780f578d]{color:#f3a73f}.uni-tag-text--error[data-v-780f578d]{color:#e43d33}.uni-tag-text--small[data-v-780f578d]{font-size:12px}',""]),t.exports=e},4831:function(t,e,i){var s=i("432d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("967d").default;n("2a092066",s,!0,{sourceMap:!1,shadowMode:!1})},"72aa":function(t,e,i){"use strict";i.r(e);var s=i("2984"),n=i.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=n.a},"7ea0":function(t,e,i){var s=i("c86c");e=s(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-rate[data-v-588f4815]{display:flex;line-height:1;font-size:0;flex-direction:row;cursor:pointer}.uni-rate__icon[data-v-588f4815]{position:relative;line-height:1;font-size:0}.uni-rate__icon-on[data-v-588f4815]{overflow:hidden;position:absolute;top:0;left:0;line-height:1;text-align:left}.uni-cursor-not-allowed[data-v-588f4815]{cursor:not-allowed!important}',""]),t.exports=e},"91b4":function(t,e,i){"use strict";i.r(e);var s=i("bf5a"),n=i.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=n.a},9676:function(t,e,i){var s,n,r=i("bdbb").default;i("4085"),i("5c47"),i("2c10"),i("5ef2"),i("c223"),i("a1c1"),i("fd3c"),i("f7a5"),i("7a76"),i("c9b5"),function(a,u){"object"==r(e)&&"undefined"!=typeof t?t.exports=u():(s=u,n="function"===typeof s?s.call(e,i,e,t):s,void 0===n||(t.exports=n))}(0,(function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,n=/\d*[^-_:/,()\s\d]+/,r={},a=function(t){return(t=+t)+(t>68?1900:2e3)},u=function(t){return function(e){this[t]=+e}},o=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),i=60*e[1]+(+e[2]||0);return 0===i?0:"+"===e[0]?-i:i}(t)}],c=function(t){var e=r[t];return e&&(e.indexOf?e:e.s.concat(e.f))},l=function(t,e){var i,s=r.meridiem;if(s){for(var n=1;n<=24;n+=1)if(t.indexOf(s(n,0,e))>-1){i=n>12;break}}else i=t===(e?"pm":"PM");return i},d={A:[n,function(t){this.afternoon=l(t,!1)}],a:[n,function(t){this.afternoon=l(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[i,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[i,u("day")],Do:[n,function(t){var e=r.ordinal,i=t.match(/\d+/);if(this.day=i[0],e)for(var s=1;s<=31;s+=1)e(s).replace(/\[|\]/g,"")===t&&(this.day=s)}],M:[s,u("month")],MM:[i,u("month")],MMM:[n,function(t){var e=c("months"),i=(c("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(i<1)throw new Error;this.month=i%12||i}],MMMM:[n,function(t){var e=c("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(t){this.year=a(t)}],YYYY:[/\d{4}/,u("year")],Z:o,ZZ:o};function h(i){var s,n;s=i,n=r&&r.formats;for(var a=(i=s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,i,s){var r=s&&s.toUpperCase();return i||n[s]||t[s]||n[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,i){return e||i.slice(1)}))}))).match(e),u=a.length,o=0;o<u;o+=1){var c=a[o],l=d[c],h=l&&l[0],f=l&&l[1];a[o]=f?{regex:h,parser:f}:c.replace(/^\[|\]$/g,"")}return function(t){for(var e={},i=0,s=0;i<u;i+=1){var n=a[i];if("string"==typeof n)s+=n.length;else{var r=n.regex,o=n.parser,c=t.slice(s),l=r.exec(c)[0];o.call(e,l),t=t.replace(l,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var i=t.hours;e?i<12&&(t.hours+=12):12===i&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,i){i.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(a=t.parseTwoDigitYear);var s=e.prototype,n=s.parse;s.parse=function(t){var e=t.date,s=t.utc,a=t.args;this.$u=s;var u=a[1];if("string"==typeof u){var o=!0===a[2],c=!0===a[3],l=o||c,d=a[2];c&&(d=a[2]),r=this.$locale(),!o&&d&&(r=i.Ls[d]),this.$d=function(t,e,i){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var s=h(e)(t),n=s.year,r=s.month,a=s.day,u=s.hours,o=s.minutes,c=s.seconds,l=s.milliseconds,d=s.zone,f=new Date,v=a||(n||r?1:f.getDate()),p=n||f.getFullYear(),m=0;n&&!r||(m=r>0?r-1:f.getMonth());var g=u||0,y=o||0,b=c||0,x=l||0;return d?new Date(Date.UTC(p,m,v,g,y,b,x+60*d.offset*1e3)):i?new Date(Date.UTC(p,m,v,g,y,b,x)):new Date(p,m,v,g,y,b,x)}catch(t){return new Date("")}}(e,u,s),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),l&&e!=this.format(u)&&(this.$d=new Date("")),r={}}else if(u instanceof Array)for(var f=u.length,v=1;v<=f;v+=1){a[1]=u[v-1];var p=i.apply(this,a);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}v===f&&(this.$d=new Date(""))}else n.call(this,t)}}}))},"985e":function(t,e,i){var s=i("7ea0");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("967d").default;n("5421e56a",s,!0,{sourceMap:!1,shadowMode:!1})},aa8c:function(t,e,i){"use strict";i.r(e);var s=i("0c09"),n=i("91b4");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("b7c0");var a=i("828b"),u=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,"58da72e0",null,!1,s["a"],void 0);e["default"]=u.exports},b7c0:function(t,e,i){"use strict";var s=i("2178"),n=i.n(s);n.a},bc07:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.text?i("v-uni-text",{staticClass:"uni-tag",class:t.classes,style:t.customStyle,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t._v(t._s(t.text))]):t._e()},n=[]},bf5a:function(t,e,i){"use strict";i("6a54");var s=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("aa9c"),i("dd2b"),i("5ef2"),i("64aa"),i("5c47"),i("a1c1");var n=s(i("2634")),r=s(i("2fdc")),a=s(i("39d8")),u=i("2d6f"),o=s(i("6e31")),c=s(i("7d11")),l=s(i("f08c")),d=s(i("2c58")),h=s(i("fcaa")),f=s(i("9676"));i("04e8");var v={name:"RscTimesheettableForm",mixins:[c.default,l.default],components:{myDate:o.default},props:{formData:{type:Object,default:function(){},required:!1}},data:function(){var t;return t={CustomBar:this.CustomBar,id:"",gsd:"",currentPage:"",drawerWidth:uni.getSystemInfoSync().screenWidth,rateMargin:(uni.getSystemInfoSync().screenWidth-240-15)/10},(0,a.default)(t,"CustomBar",this.CustomBar),(0,a.default)(t,"NavBarColor",this.NavBarColor),(0,a.default)(t,"loading",!1),(0,a.default)(t,"modalName",null),(0,a.default)(t,"listTouchDirection",null),(0,a.default)(t,"model",{timesheetNbr:"",status:""}),(0,a.default)(t,"RscTimesheetLines",[]),(0,a.default)(t,"backRouteName","RscTimesheettableList"),(0,a.default)(t,"url",{queryById:"/iresp/rscTimesheettable/queryById",queryByMainId:"/iresp/rscTimesheettable/queryByMainId",add:"/iresp/rscTimesheettable/add",edit:"/iresp/rscTimesheettable/edit"}),(0,a.default)(t,"currentRscTimesheetLine",{}),(0,a.default)(t,"userList",[]),(0,a.default)(t,"userIndex",0),(0,a.default)(t,"periodCodeList",[]),(0,a.default)(t,"periodCodeIndex",0),(0,a.default)(t,"projectList",[]),(0,a.default)(t,"projectIndex",0),(0,a.default)(t,"taskList",[]),(0,a.default)(t,"taskIndex",0),(0,a.default)(t,"hourpropertyList",[]),(0,a.default)(t,"hourpropertyIndex",0),(0,a.default)(t,"rscTimesheetlineDetail",[]),(0,a.default)(t,"userId",uni.getStorageSync(u.USER_INFO).id),(0,a.default)(t,"personalList",{avatar:"",realname:"",username:"",post:""}),t},onLoad:function(t){this.id=t.id,this.gsd=t.gsd},created:function(){this.initFormData(),this.initProjectList(),this.initHourpropertyList(),this.getTimesheetNbr(),this.initUserList(),this.initPeriodCodeList()},computed:{top:function(){return 2*this.CustomBar}},methods:{getTimesheetNbr:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.id||t.gsd){e.next=6;break}return e.next=3,t.$http.put("/sys/fillRule/executeRuleByCode/scg_code_generator");case 3:i=e.sent,t.model.timesheetNbr=i.data.result,t.model.status="草稿";case 6:case"end":return e.stop()}}),e)})))()},initFormData:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,s;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=7;break}return e.next=3,t.$http.get(t.url.queryById,{params:{id:t.id}});case 3:i=e.sent,i.data.success&&(t.model=i.data.result,t.queryRscTimesheetLines()),e.next=12;break;case 7:if(!t.gsd){e.next=12;break}return e.next=10,t.$http.get(t.url.queryByMainId,{params:{id:t.gsd}});case 10:s=e.sent,s.data.success&&(t.model=s.data.result,t.queryRscTimesheetLines());case 12:case"end":return e.stop()}}),e)})))()},initUserList:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,s,r,a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/sys/user/list",{params:{pageNo:1,pageSize:1e4}});case 2:if(i=e.sent,i.data.success){for(s=[],r=0;r<i.data.result.records.length;r++)s.push(i.data.result.records[r].username);t.userList=s}if(""==t.id&&""==t.gsd){e.next=13;break}a=0;case 6:if(!(a<i.data.result.records.length)){e.next=13;break}if(i.data.result.records[a].username!=t.model.resource){e.next=10;break}return t.userIndex=a,e.abrupt("break",13);case 10:a++,e.next=6;break;case 13:t.model&&!t.model.resource&&t.$http.get("/sys/user/queryById",{params:{id:t.userId}}).then((function(e){if(e.data.success)for(var i=e.data.result,s=0;s<t.userList.length;s++)if(t.userList[s]==i.username){t.userIndex=s;break}})).catch((function(t){console.log(t)}));case 14:case"end":return e.stop()}}),e)})))()},initPeriodCodeList:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,s,r,a,u,o;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/sys/dict/getDictItems/scg_period_detail,period_code,period_code");case 2:if(i=e.sent,i.data.success){for(s=[],r=0;r<i.data.result.length;r++)s.push(i.data.result[r].value);t.periodCodeList=s}if(a=t.buildWeekPeriod(),""!=t.id||""!=t.gsd)for(u=0;u<i.data.result.length;u++)i.data.result[u].value==t.model.periodCode&&(t.periodCodeIndex=u);if(!t.model||t.model.periodCode){e.next=15;break}o=0;case 8:if(!(o<t.periodCodeList.length)){e.next=15;break}if(t.periodCodeList[o]!=a){e.next=12;break}return t.periodCodeIndex=o,e.abrupt("break",15);case 12:o++,e.next=8;break;case 15:case"end":return e.stop()}}),e)})))()},queryRscTimesheetLines:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.model||!t.model.timesheetNbr){e.next=5;break}return e.next=3,t.$http.get("/iresp/rscTimesheettable/queryRscTimesheetlineByMainId?id="+t.model.timesheetNbr);case 3:i=e.sent,t.RscTimesheetLines=i.data.result.records;case 5:case"end":return e.stop()}}),e)})))()},initProjectList:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,s,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/iresp/prjProjectTable/list",{params:{column:"createTime",order:"desc",pageNo:1,pageSize:1e4}});case 2:if(i=e.sent,i.data.success){for(s=[],r=0;r<i.data.result.records.length;r++)s.push(i.data.result.records[r].projectCode);t.projectList=s,t.queryTaskList(t.projectList[0],null)}case 4:case"end":return e.stop()}}),e)})))()},queryTaskList:function(t,e){var i=this;return(0,r.default)((0,n.default)().mark((function s(){var r,a,u;return(0,n.default)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,i.$http.get("/sys/dict/getDictItems/prj_wbs where level = 'task' and project_code = '"+t+"',node_name,node_code");case 2:if(r=s.sent,r.data.success){for(a=[],u=0;u<r.data.result.length;u++)a.push(r.data.result[u].text+"|"+r.data.result[u].value),e&&e==r.data.result[u].value&&(i.taskIndex=u);i.taskList=a}case 4:case"end":return s.stop()}}),s)})))()},initHourpropertyList:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,s,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/sys/dict/getDictItems/rsc_hourproperty,description,hourproperty_id");case 2:if(i=e.sent,i.data.success){for(s=[],r=0;r<i.data.result.length;r++)s.push(i.data.result[r].text+"|"+i.data.result[r].value);t.hourpropertyList=s}case 4:case"end":return e.stop()}}),e)})))()},clickRscTimesheetLines:function(t){var e=this;return(0,r.default)((0,n.default)().mark((function i(){var s,r,a;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:console.log("clickRscTimesheetLines",t),e.currentRscTimesheetLine=t,s=0;case 3:if(!(s<e.projectList.length)){i.next=10;break}if(e.projectList[s]!=t.projectId){i.next=7;break}return e.projectIndex=s,i.abrupt("break",10);case 7:s++,i.next=3;break;case 10:r=0;case 11:if(!(r<e.hourpropertyList.length)){i.next=18;break}if(e.hourpropertyList[r].split("|")[1]!=t.hourpropertyId){i.next=15;break}return e.hourpropertyIndex=r,i.abrupt("break",18);case 15:r++,i.next=11;break;case 18:return e.queryTaskList(t.projectId,t.taskId),e.currentRscTimesheetLine.day1Ext||(e.currentRscTimesheetLine.day1Ext=e.buildUUID()),i.next=22,e.$http.get("/iresp/rscTimesheetlineDetail/list",{params:{pageNo:1,pageSize:30,timesheetlineId:e.currentRscTimesheetLine.day1Ext}});case 22:a=i.sent,a.data.success&&(e.rscTimesheetlineDetail=a.data.result.records),e.currentPage="showRight",e.$refs["showRight"].open();case 26:case"end":return i.stop()}}),i)})))()},newRscTimesheetLines:function(){this.currentRscTimesheetLine={id:(new Date).getTime(),projectId:this.projectList[this.projectIndex],taskId:this.taskList[this.taskIndex].split("|")[1],taskId_dictText:this.taskList[this.taskIndex].split("|")[0],hourpropertyId:this.hourpropertyList[this.hourpropertyIndex].split("|")[1],hourpropertyId_dictText:this.hourpropertyList[this.hourpropertyIndex].split("|")[0],timesheetNbr:this.model.timesheetNbr,day1:0,day2:0,day3:0,day4:0,day5:0,day6:0,day7:0,description:"",costcenter:"",hourSum:0,day1Ext:""},this.currentPage="showRight",this.$refs["showRight"].open()},saveRscTimesheetLines:function(){this.currentRscTimesheetLine.projectId=this.projectList[this.projectIndex],this.currentRscTimesheetLine.taskId=this.taskList[this.taskIndex].split("|")[1],this.currentRscTimesheetLine.taskId_dictText=this.taskList[this.taskIndex].split("|")[0],this.currentRscTimesheetLine.hourpropertyId=this.hourpropertyList[this.hourpropertyIndex].split("|")[1],this.currentRscTimesheetLine.hourpropertyId_dictText=this.hourpropertyList[this.hourpropertyIndex].split("|")[0],this.currentRscTimesheetLine.timesheetNbr=this.model.timesheetNbr;for(var t=!1,e=0,i=0;i<this.RscTimesheetLines.length;i++)this.RscTimesheetLines[i].id==this.currentRscTimesheetLine.id&&(this.RscTimesheetLines[i]=this.currentRscTimesheetLine,t=!0);t||this.RscTimesheetLines.push(this.currentRscTimesheetLine);for(var s=0;s<this.RscTimesheetLines.length;s++)e+=this.RscTimesheetLines[s].hourSum;this.model.totalhours=e,this.currentPage="",this.$refs["showRight"].close()},closeRscTimesheetLines:function(){this.currentPage="",this.$refs["showRight"].close()},deleteRscTimesheetLine:function(t){this.RscTimesheetLines.splice(this.RscTimesheetLines.indexOf(t),1);for(var e=0,i=0;i<this.RscTimesheetLines.length;i++)e+=Number(this.RscTimesheetLines[i].hourSum);this.model.totalhours=e},clickRscTimesheetLineDetail:function(t){var e=this;return(0,r.default)((0,n.default)().mark((function t(){var i;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.currentRscTimesheetLine.day1Ext||(e.currentRscTimesheetLine.day1Ext=e.buildUUID()),t.next=3,e.$http.get("/iresp/rscTimesheetlineDetail/list",{params:{pageNo:1,pageSize:30,timesheetlineId:e.currentRscTimesheetLine.day1Ext}});case 3:i=t.sent,i.data.success&&(e.rscTimesheetlineDetail=i.data.result.records,e.currentPage="showRight2",e.$refs["showRight2"].open());case 5:case"end":return t.stop()}}),t)})))()},saveRscTimesheetLineDetail:function(){var t=this;this.$http.post("/iresp/rscTimesheetlineDetail/edit",this.rscTimesheetlineDetail).then((function(e){for(var i=0,s=0;s<t.rscTimesheetlineDetail.length;s++)switch(i+=Number(t.rscTimesheetlineDetail[s].hours),t.currentRscTimesheetLine.day1Ext=t.rscTimesheetlineDetail[s].timesheetlineId,t.rscTimesheetlineDetail[s].dayNum){case"1":t.currentRscTimesheetLine.day1=t.rscTimesheetlineDetail[s].hours;break;case"2":t.currentRscTimesheetLine.day2=t.rscTimesheetlineDetail[s].hours;break;case"3":t.currentRscTimesheetLine.day3=t.rscTimesheetlineDetail[s].hours;break;case"4":t.currentRscTimesheetLine.day4=t.rscTimesheetlineDetail[s].hours;break;case"5":t.currentRscTimesheetLine.day5=t.rscTimesheetlineDetail[s].hours;break;case"6":t.currentRscTimesheetLine.day6=t.rscTimesheetlineDetail[s].hours;break;case"7":t.currentRscTimesheetLine.day7=t.rscTimesheetlineDetail[s].hours;break}t.currentRscTimesheetLine.hourSum=i,t.currentPage="showRight",t.$refs["showRight2"].close()}))},closeRscTimesheetLineDetail:function(){this.currentPage="showRight",this.$refs["showRight2"].close()},ListTouchStart:function(t){this.listTouchStart=t.touches[0].pageX},ListTouchMove:function(t){this.listTouchDirection=t.touches[0].pageX-this.listTouchStart>0?"right":"left"},ListTouchEnd:function(t){"left"==this.listTouchDirection?this.modalName=t.currentTarget.dataset.target:this.modalName=null,this.listTouchDirection=null},onSubmit:function(){var t=this;if("showRight"==this.currentPage)"Draft"!==this.formatStatusEn(this.model.status)&&"Rejected"!==this.formatStatusEn(this.model.status)||this.saveRscTimesheetLines();else if("showRight2"==this.currentPage)"Draft"!==this.formatStatusEn(this.model.status)&&"Rejected"!==this.formatStatusEn(this.model.status)||this.saveRscTimesheetLineDetail();else if(""==this.currentPage){if(!this.RscTimesheetLines||0==this.RscTimesheetLines.length)return void alert("请添加工时单行");this.loading=!0;var e=this.model.id?"/iresp/rscTimesheettable/edit":"/iresp/rscTimesheettable/add";this.model={id:this.model.id,periodCode:this.periodCodeList[this.periodCodeIndex],resource:this.userList[this.userIndex],status:this.formatStatusEn(this.model.status),timesheetNbr:this.model.timesheetNbr,totalhours:this.model.totalhours,rscTimesheetlineList:this.RscTimesheetLines},this.$http.post(e,this.model).then((function(e){t.loading=!1,t.$Router.push({name:t.backRouteName})})).catch((function(){t.loading=!1}))}},userPickerChange:function(t){this.userIndex=t.detail.value},periodCodePickerChange:function(t){this.periodCodeIndex=t.detail.value},projectPickerChange:function(t){this.projectIndex=t.detail.value,this.queryTaskList(this.projectList[this.projectIndex],null)},taskPickerChange:function(t){this.taskIndex=t.detail.value},hourpropertyPickerChange:function(t){this.hourpropertyIndex=t.detail.value},format:function(t){switch(t){case"1":return"周一";case"2":return"周二";case"3":return"周三";case"4":return"周四";case"5":return"周五";case"6":return"周六";case"7":return"周日";default:return t}},formatStatusZh:function(t){switch(t){case"Draft":return"草稿";case"Rejected":return"已驳回";case"In Review":return"审批中";case"Approved":return"已批准";default:return t}},formatStatusEn:function(t){switch(t){case"草稿":return"Draft";case"已驳回":return"Rejected";case"审批中":return"In Review";case"已批准":return"Approved";default:return t}},buildUUID:function(){for(var t=[],e=0;e<32;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23];var i=t.join("");return i.replace(/-/g,"")},buildWeekPeriod:function(){d.default.locale("zh-cn"),d.default.extend(h.default),d.default.extend(f.default);var t=(0,d.default)().startOf("week").format("YYYY-MM-DD")+"~"+(0,d.default)().endOf("week").format("YYYY-MM-DD");return t}}};e.default=v},dd7e:function(t,e,i){"use strict";i.r(e);var s=i("bc07"),n=i("1f9b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("e784");var a=i("828b"),u=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,"780f578d",null,!1,s["a"],void 0);e["default"]=u.exports},e784:function(t,e,i){"use strict";var s=i("4831"),n=i.n(s);n.a},f634:function(t,e,i){"use strict";i.r(e);var s=i("221f"),n=i("72aa");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("37d4");var a=i("828b"),u=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,"588f4815",null,!1,s["a"],void 0);e["default"]=u.exports},fcaa:function(t,e,i){var s,n,r=i("bdbb").default;i("4085"),i("5c47"),i("a1c1"),function(a,u){"object"==r(e)&&"undefined"!=typeof t?t.exports=u():(s=u,n="function"===typeof s?s.call(e,i,e,t):s,void 0===n||(t.exports=n))}(0,(function(){"use strict";return function(t,e,i){t=t||{};var s=e.prototype,n={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(t,e,i,n){return s.fromToBase(t,e,i,n)}i.en.relativeTime=n,s.fromToBase=function(e,s,r,a,u){for(var o,c,l,d=r.$locale().relativeTime||n,h=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=h.length,v=0;v<f;v+=1){var p=h[v];p.d&&(o=a?i(e).diff(r,p.d,!0):r.diff(e,p.d,!0));var m=(t.rounding||Math.round)(Math.abs(o));if(l=o>0,m<=p.r||!p.r){m<=1&&v>0&&(p=h[v-1]);var g=d[p.l];u&&(m=u(""+m)),c="string"==typeof g?g.replace("%d",m):g(m,s,p.l,l);break}}if(s)return c;var y=l?d.future:d.past;return"function"==typeof y?y(c):y.replace("%s",c)},s.to=function(t,e){return r(t,e,this,!0)},s.from=function(t,e){return r(t,e,this)};var a=function(t){return t.$u?i.utc():i()};s.toNow=function(t){return this.to(a(this),t)},s.fromNow=function(t){return this.from(a(this),t)}}}))}}]);