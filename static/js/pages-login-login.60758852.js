(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{3247:function(t,n,s){"use strict";s.d(n,"b",(function(){return a})),s.d(n,"c",(function(){return e})),s.d(n,"a",(function(){}));var a=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("v-uni-view",{staticClass:"zai-box"},[s("v-uni-scroll-view",{staticClass:"page",attrs:{"scroll-y":!0}},[s("v-uni-view",{staticClass:"text-center",style:[{animation:"show 0.4s 1"}]},[s("v-uni-image",{staticClass:"zai-logo ",attrs:{src:"/static/logo.png",mode:"aspectFit"}})],1),s("v-uni-view",{staticClass:"box padding-lr-xl login-paddingtop",style:[{animation:"show 0.6s 1"}]},[1==t.loginWay?[s("v-uni-view",{staticClass:"cu-form-group margin-top  shadow-warp",class:["round"==t.shape?"round":""]},[s("v-uni-view",{staticClass:"title"},[s("v-uni-text",{staticClass:"cuIcon-people margin-right-xs"}),t._v("账号:")],1),s("v-uni-input",{attrs:{placeholder:"请输入账号",name:"input"},model:{value:t.userName,callback:function(n){t.userName=n},expression:"userName"}})],1),s("v-uni-view",{staticClass:"cu-form-group margin-top shadow-warp",class:["round"==t.shape?"round":""]},[s("v-uni-view",{staticClass:"title"},[s("v-uni-text",{staticClass:"cuIcon-lock margin-right-xs"}),t._v("密码:")],1),s("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"请输入密码",password:!t.showPassword},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}}),s("v-uni-view",{staticClass:"action text-lg"},[s("v-uni-text",{class:[t.showPassword?"cuIcon-attention":"cuIcon-attentionforbid"],on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.changePassword.apply(void 0,arguments)}}})],1)],1),s("v-uni-view",{staticClass:"padding text-center margin-top"},[s("v-uni-button",{staticClass:"cu-btn bg-blue lg margin-right shadow",class:["round"==t.shape?"round":""],attrs:{loading:t.loading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onLogin.apply(void 0,arguments)}}},[s("v-uni-text",{attrs:{space:"emsp"}},[t._v(t._s(t.loading?"登录中...":" 登录 "))])],1),s("v-uni-button",{staticClass:"cu-btn line-blue lg margin-left shadow",class:["round"==t.shape?"round":""],attrs:{loading:t.loading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.loginWay=3-t.loginWay}}},[t._v("短信登录")])],1)]:[s("v-uni-view",{staticClass:"cu-form-group margin-top  shadow-warp",class:["round"==t.shape?"round":""]},[s("v-uni-view",{staticClass:"title"},[s("v-uni-text",{staticClass:"cuIcon-mobile margin-right-xs"}),t._v("手机号:")],1),s("v-uni-input",{attrs:{placeholder:"请输入手机号",type:"number",maxlength:"11"},model:{value:t.phoneNo,callback:function(n){t.phoneNo=n},expression:"phoneNo"}})],1),s("v-uni-view",{staticClass:"cu-form-group margin-top shadow-warp",class:["round"==t.shape?"round":""]},[s("v-uni-view",{staticClass:"title"},[s("v-uni-text",{staticClass:"cuIcon-lock margin-right-xs"}),t._v("验证码:")],1),s("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"请输入验证码"},model:{value:t.smsCode,callback:function(n){t.smsCode=n},expression:"smsCode"}}),s("v-uni-view",{staticClass:"action"},[s("v-uni-button",{staticClass:"cu-btn line-blue sm",attrs:{disabled:!t.isSendSMSEnable},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onSMSSend.apply(void 0,arguments)}}},[t._v(t._s(t.getSendBtnText))])],1)],1),s("v-uni-view",{staticClass:"padding text-center margin-top"},[s("v-uni-button",{staticClass:"cu-btn bg-blue lg margin-right shadow",class:["round"==t.shape?"round":""],attrs:{loading:t.loading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onSMSLogin.apply(void 0,arguments)}}},[s("v-uni-text",{attrs:{space:"emsp"}},[t._v(t._s(t.loading?"登录中...":" 登录 "))])],1),s("v-uni-button",{staticClass:"cu-btn line-blue lg margin-left shadow",class:["round"==t.shape?"round":""],attrs:{loading:t.loading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.loginWay=1}}},[t._v("账户登录")])],1)]],2)],1),t.loading?s("v-uni-view",{staticClass:"cu-load load-modal"},[s("v-uni-image",{staticClass:"round",attrs:{src:"/static/logo.png",mode:"aspectFit"}}),s("v-uni-view",{staticClass:"gray-text"},[t._v("登录中...")])],1):t._e()],1)},e=[]},"3d37":function(t,n,s){var a=s("c86c");n=a(!1),n.push([t.i,".login-paddingtop[data-v-356a74e7]{padding-top:%?100?%}.zai-box[data-v-356a74e7]{padding:0 %?20?%;padding-top:%?100?%;position:relative}.zai-logo[data-v-356a74e7]{width:%?500?%;height:300px}.zai-title[data-v-356a74e7]{font-size:%?58?%;color:#000;text-align:center}.input-placeholder[data-v-356a74e7], .zai-input[data-v-356a74e7]{color:#94afce}.zai-label[data-v-356a74e7]{padding:%?60?% 0;text-align:center;font-size:%?30?%;color:#a7b6d0}.zai-btn[data-v-356a74e7]{background:#ff65a3;color:#fff;border:0;border-radius:%?100?%;font-size:%?36?%}.zai-btn[data-v-356a74e7]:after{border:0}\n\n/*按钮点击效果*/.zai-btn.button-hover[data-v-356a74e7]{-webkit-transform:translate(%?1?%,%?1?%);transform:translate(%?1?%,%?1?%)}",""]),t.exports=n},"50c2":function(t,n,s){"use strict";s.r(n);var a=s("db1e"),e=s.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){s.d(n,t,(function(){return a[t]}))}(i);n["default"]=e.a},5213:function(t,n,s){"use strict";var a=s("6f81"),e=s.n(a);e.a},"6f81":function(t,n,s){var a=s("3d37");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var e=s("967d").default;e("ee97e6fe",a,!0,{sourceMap:!1,shadowMode:!1})},c000:function(t,n,s){"use strict";s.r(n);var a=s("3247"),e=s("50c2");for(var i in e)["default"].indexOf(i)<0&&function(t){s.d(n,t,(function(){return e[t]}))}(i);s("5213");var o=s("828b"),l=Object(o["a"])(e["default"],a["b"],a["c"],!1,null,"356a74e7",null,!1,a["a"],void 0);n["default"]=l.exports},db1e:function(t,n,s){"use strict";s("6a54");var a=s("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,s("bf0f"),s("5c47"),s("a1c1"),s("45da"),s("aa9c"),s("23f4"),s("7d2f"),s("9c4e"),s("ab80"),s("0506");var e=a(s("9b1b")),i=(s("2d6f"),s("8f59")),o=(a(s("de06")),{data:function(){return{shape:"",loading:!1,userName:"admin",password:"123456",phoneNo:"",smsCode:"",showPassword:!1,loginWay:1,smsCountDown:0,smsCountInterval:null,toggleDelay:!1,version:"",thirdType:"",thirdLoginInfo:"",thirdLoginState:!1,bindingPhoneModal:!1,thirdUserUuid:"",url:{bindingThirdPhone:"/sys/thirdLogin/bindingThirdPhone"}}},onLoad:function(){},computed:{isSendSMSEnable:function(){return this.smsCountDown<=0&&this.phoneNo.length>4},getSendBtnText:function(){return this.smsCountDown>0?this.smsCountDown+"秒后发送":"发送验证码"},canSMSLogin:function(){return this.userName.length>4&&this.smsCode.length>4},canPwdLogin:function(){return this.userName.length>4&&this.password.length>4}},methods:(0,e.default)((0,e.default)({},(0,i.mapActions)(["mLogin","PhoneLogin","ThirdLogin"])),{},{onLogin:function(){var t=this;if(this.userName&&0!=this.userName.length)if(this.password&&0!=this.password.length){var n={username:this.userName,password:this.password};this.loading=!0,this.mLogin(n).then((function(n){t.loading=!1,n.data.success?(t.$tip.success("登录成功!"),t.$Router.replaceAll({name:"index"})):t.$tip.alert(n.data.message)})).catch((function(n){var s=n.data.message||"请求出现错误，请稍后再试";t.loading=!1,t.$tip.alert(s)})).finally((function(){t.loading=!1}))}else this.$tip.toast("请填写密码");else this.$tip.toast("请填写用户名")},saveClientId:function(){var t=this,n=plus.push.getClientInfo(),s=n.clientid;this.$http.get("/sys/user/saveClientId",{params:{clientId:s}}).then((function(n){console.log("res::saveClientId>",n),t.$tip.success("登录成功!"),t.$Router.replaceAll({name:"index"})}))},changePassword:function(){this.showPassword=!this.showPassword},onSMSSend:function(){var t=this,n={};n.mobile=this.phoneNo,n.smsmode="0";var s=new RegExp(/^[1]([3-9])[0-9]{9}$/);return n.mobile&&0!=n.mobile.length?s.test(n.mobile)?void this.$http.post("/sys/sms",n).then((function(n){n.data.success?(t.smsCountDown=60,t.startSMSTimer()):(t.smsCountDown=0,t.$tip.toast(n.data.message))})):(this.$tip.toast("请输入正确的手机号"),!1):(this.$tip.toast("请输入手机号"),!1)},startSMSTimer:function(){var t=this;this.smsCountInterval=setInterval((function(){t.smsCountDown--,t.smsCountDown<=0&&clearInterval(t.smsCountInterval)}),1e3)},onSMSLogin:function(){var t=this,n=new RegExp(/^[1]([3-9])[0-9]{9}$/);if(this.phoneNo&&0!=this.phoneNo.length){if(!n.test(this.phoneNo))return this.$tip.toast("请输入正确的手机号"),!1;if(this.smsCode&&0!=this.smsCode.length){var s={mobile:this.phoneNo,captcha:this.smsCode};this.PhoneLogin(s).then((function(n){console.log("res====》",n),n.data.success?(t.$tip.success("登录成功!"),t.$Router.replaceAll({name:"index"})):t.$tip.error(n.data.message)})).catch((function(n){var s=((n.response||{}).data||{}).message||n.data.message||"请求出现错误，请稍后再试";t.$tip.error(s)}))}else this.$tip.toast("请填短信验证码")}else this.$tip.toast("请填写手机号")},loginSuccess:function(){this.$Router.replace({name:"index"})},requestFailed:function(t){this.$message.warning("登录失败")}}),beforeDestroy:function(){this.smsCountInterval&&clearInterval(this.smsCountInterval)}});n.default=o}}]);